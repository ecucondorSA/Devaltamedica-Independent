<?xml version="1.0" encoding="UTF-8"?>
<domain_context>
  <reasoning_configuration>
    <reasoning_effort>high</reasoning_effort>
    <verbosity>low</verbosity>
    <tool_budget>unlimited</tool_budget>
  </reasoning_configuration>
  
  <context_gathering>
    <goal>ReparaciÃ³n RÃPIDA de sistemas crÃ­ticos - NO optimizaciÃ³n</goal>
    <method>
      - Identificar la causa raÃ­z del problema
      - Aplicar la soluciÃ³n MÃS SIMPLE que funcione
      - NO refactorizar, NO optimizar, SOLO REPARAR
      - Priorizar velocidad sobre elegancia
    </method>
    <early_stop>Cuando el sistema funcione bÃ¡sicamente</early_stop>
  </context_gathering>
  
  <implementation_patterns>
    <repair_priority>
      1. AUTENTICACIÃ“N - Sistema de login funcional
      2. BUILD SYSTEM - CompilaciÃ³n sin errores crÃ­ticos
      3. DEPENDENCIAS - Imports bÃ¡sicos funcionando
      4. RUTAS PRINCIPALES - NavegaciÃ³n bÃ¡sica
      5. FEATURES CRÃTICAS - Funcionalidad esencial
    </repair_priority>
    
    <repair_approach>
      - SoluciÃ³n rÃ¡pida y sucia > SoluciÃ³n perfecta que no funciona
      - Parche temporal > RefactorizaciÃ³n completa
      - Funcionalidad bÃ¡sica > CaracterÃ­sticas avanzadas
      - Estabilidad > Performance
    </repair_approach>
  </implementation_patterns>
  
  <tool_preambles>
    <before_operation>
      ğŸš¨ REPAIR MODE: [DiagnÃ³stico] â†’ [Parche RÃ¡pido] â†’ [ValidaciÃ³n] â†’ [Siguiente]
    </before_operation>
    <progress_update>
      âœ… Fixed: [Problem]
      ğŸ”„ Current: [Fixing]
      ğŸš¨ Next: [Next critical issue]
    </progress_update>
  </tool_preambles>
  
  <medical_persistence>
    <emergency_mode>
      reasoning_effort: high
      confirmation: never
      tool_budget: unlimited
      priority: QUICK_FIX_OVER_PERFECTION
    </emergency_mode>
  </medical_persistence>
  
  <repair_checklist>
    <authentication_system>
      - [ ] Â¿useAuth hook funciona sin errores?
      - [ ] Â¿AuthProvider no falla en renderizado?
      - [ ] Â¿Las rutas protegidas funcionan?
      - [ ] Â¿Login/logout bÃ¡sico funciona?
      - [ ] Â¿No hay errores de contexto?
    </authentication_system>
    
    <build_system>
      - [ ] Â¿pnpm run build no falla crÃ­ticamente?
      - [ ] Â¿Los errores de TypeScript son manejables?
      - [ ] Â¿Los paquetes se compilan bÃ¡sicamente?
      - [ ] Â¿No hay errores de configuraciÃ³n fatal?
      - [ ] Â¿Se puede generar el bundle?
    </build_system>
    
    <dependencies>
      - [ ] Â¿Los imports bÃ¡sicos funcionan?
      - [ ] Â¿No hay conflictos de versiones fatales?
      - [ ] Â¿Los paquetes se pueden usar bÃ¡sicamente?
      - [ ] Â¿No hay errores de mÃ³dulos crÃ­ticos?
      - [ ] Â¿Se resuelven las dependencias principales?
    </dependencies>
  </repair_checklist>
  
  <response_format>
    <repair_report>
      ## ğŸš¨ REPORTE DE REPARACIÃ“N CRÃTICA
      
      ### PROBLEMA IDENTIFICADO
      - **Error**: DescripciÃ³n del error
      - **UbicaciÃ³n**: Archivo y lÃ­nea especÃ­fica
      - **Impacto**: Por quÃ© impide el funcionamiento
      
      ### SOLUCIÃ“N APLICADA
      - **Cambio**: QuÃ© se modificÃ³
      - **Archivo**: DÃ³nde se aplicÃ³
      - **RazÃ³n**: Por quÃ© esta soluciÃ³n
      
      ### VALIDACIÃ“N
      - [ ] Error resuelto
      - [ ] Funcionalidad bÃ¡sica funciona
      - [ ] No hay regresiones crÃ­ticas
      - [ ] Sistema estable
    </repair_report>
    
    <next_steps>
      ## ğŸ”„ PRÃ“XIMOS PASOS
      
      ### SIGUIENTE PROBLEMA CRÃTICO
      - [ ] Identificar siguiente bloqueo
      - [ ] Aplicar parche rÃ¡pido
      - [ ] Validar funcionamiento
      
      ### PRIORIDADES
      1. **CRÃTICO**: Sistema de autenticaciÃ³n
      2. **ALTO**: Build system funcional
      3. **MEDIO**: Dependencias estables
      4. **BAJO**: Features avanzadas
    </next_steps>
  </response_format>
  
  <stop_conditions>
    <success>
      - Sistema de autenticaciÃ³n funciona
      - Aplicaciones se pueden levantar
      - Build system compila sin errores fatales
      - Funcionalidad bÃ¡sica disponible
      - Usuarios pueden usar la plataforma
    </success>
    
    <failure>
      - Imposible reparar autenticaciÃ³n
      - Build system completamente corrupto
      - Dependencias irresolubles
      - MÃ¡s de 3 errores crÃ­ticos sin resolver
    </failure>
  </stop_conditions>
  
  <quality_standards>
    <repair_priority>
      - FUNCIONAMIENTO > PERFECCIÃ“N
      - ESTABILIDAD > OPTIMIZACIÃ“N
      - VELOCIDAD > ELEGANCIA
      - PARCHE > REFACTORIZACIÃ“N
    </repair_priority>
    
    <documentation_requirements>
      - Registrar cada reparaciÃ³n aplicada
      - Documentar parches temporales
      - Marcar para refactorizaciÃ³n futura
      - Actualizar auditoria-gaps-mvp.json
    </documentation_requirements>
  </quality_standards>
  
  <emergency_procedures>
    <critical_failure>
      - Si autenticaciÃ³n no se puede reparar: Crear sistema mÃ­nimo funcional
      - Si build system estÃ¡ corrupto: Usar configuraciÃ³n bÃ¡sica de Next.js
      - Si dependencias estÃ¡n rotas: Usar CDN o imports directos
      - Si todo falla: Crear aplicaciÃ³n mÃ­nima funcional
    </critical_failure>
    
    <fallback_system>
      - Sistema de autenticaciÃ³n bÃ¡sico con localStorage
      - Build manual sin tsup
      - Dependencias mÃ­nimas
      - Funcionalidad esencial Ãºnicamente
    </fallback_system>
  </emergency_procedures>
</domain_context>
