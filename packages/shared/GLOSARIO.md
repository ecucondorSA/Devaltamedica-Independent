# @AltaMedica/Shared - Glosario Alfab√©tico

## üìö Referencia R√°pida de Servicios y Utilidades Compartidas

### A
- **@AdminService** - `import { AdminService } from '@altamedica/shared/services/admin-service'`
  - Servicios de administraci√≥n del sistema
  - üè∑Ô∏è **Server-only** | üìä **Stable**
  - Ruta: `src/services/admin-service.ts`

- **@AuditService** - `import { AuditService } from '@altamedica/shared/services/audit.service'`
  - Servicios de @auditor√≠a y logs
  - üè∑Ô∏è **Server-only** | üìä **Stable**
  - Ruta: `src/services/audit.service.ts`

### B
- **@BackupPolicies** - `import { BackupPolicies } from '@altamedica/shared/services/backup-policies'`
  - Pol√≠ticas de @respaldo de datos
  - üè∑Ô∏è **Server-only** | üìä **Stable**
  - Ruta: `src/services/backup-policies.ts`

- **@BackupService** - `import { BackupService } from '@altamedica/shared/services/backup.service'`
  - Servicios de @respaldo autom√°tico
  - üè∑Ô∏è **Server-only** | üìä **Stable**
  - Ruta: `src/services/backup.service.ts`

- **@BAAService** - `import { BAAService } from '@altamedica/shared/services/baa.service'`
  - Business Associate Agreement para @HIPAA
  - üè∑Ô∏è **Server-only** | üìä **Stable**
  - Ruta: `src/services/baa.service.ts`

- **@BaseAPIClient** - `import { BaseAPIClient } from '@altamedica/shared'`
  - Cliente base para @APIs REST
  - üè∑Ô∏è **Edge-safe** | üìä **Stable**
  - Ruta: `src/api-client.ts`

- **@BaseService** - `import { BaseService } from '@altamedica/shared/services'`
  - Clase base para servicios
  - üè∑Ô∏è **Universal** | üìä **Stable**
  - Ruta: `src/services.ts`

- **@buildQueryParams** - `import { buildQueryParams } from '@altamedica/shared'`
  - Constructor de par√°metros de consulta URL
  - üè∑Ô∏è **Edge-safe** | üìä **Stable**
  - Ruta: `src/api-client.ts`

### C
- **@Constants** - `import { Constants } from '@altamedica/shared/constants'`
  - Constantes globales del sistema
  - Ruta: `src/constants.ts`

### E
- **@EncryptionService** - `import { EncryptionService } from '@altamedica/shared/services/encryption.service'`
  - Servicios de @encriptaci√≥n @HIPAA
  - Ruta: `src/services/encryption.service.ts`

- **@Environment** - `import { Environment } from '@altamedica/shared/config/environment'`
  - Configuraci√≥n de @entornos
  - Ruta: `src/config/environment.ts`

### F
- **@FirebaseAdapter** - `import { FirebaseAdapter } from '@altamedica/shared/adapters/firebase'`
  - Adaptador para @Firebase services
  - Ruta: `src/adapters/firebase.ts`

### I
- **@InvoiceGenerationService** - `import { InvoiceGenerationService } from '@altamedica/shared/services/invoice-generation.service'`
  - Generaci√≥n de @facturas m√©dicas
  - Ruta: `src/services/invoice-generation.service.ts`

### J
- **@JWTService** - `import { JWTService } from '@altamedica/shared/services/jwt-service'`
  - Servicios de @tokens JWT
  - Ruta: `src/services/jwt-service.ts`

### L
- **@LoggerService** - `import { LoggerService } from '@altamedica/shared'`
  - Servicios centralizados de @logging
  - üè∑Ô∏è **Edge-safe** | üìä **Stable** | ‚ö° **USAR EN LUGAR DE console**
  - Ruta: `src/services/logger.service.ts`
  
  ```typescript
  // ‚úÖ CORRECTO - Usar LoggerService
  import { LoggerService } from '@altamedica/shared';
  LoggerService.info('Usuario autenticado', { userId });
  
  // ‚ùå INCORRECTO - No usar console
  console.log('Usuario autenticado', userId);
  ```

### M
- **@MedicationCatalogService** - `import { MedicationCatalogService } from '@altamedica/shared/services/medication-catalog.service'`
  - Cat√°logo de @medicamentos
  - Ruta: `src/services/medication-catalog.service.ts`

- **@MercadoPagoService** - `import { MercadoPagoService } from '@altamedica/shared/services/mercadopago.service'`
  - Integraci√≥n con @MercadoPago
  - Ruta: `src/services/mercadopago.service.ts`

- **@MFAService** - `import { MFAService } from '@altamedica/shared/services/mfa.service'`
  - Multi-Factor Authentication
  - Ruta: `src/services/mfa.service.ts`

### N
- **@NotificationService** - `import { NotificationService } from '@altamedica/shared/services/notification-service'`
  - Servicios de @notificaciones push
  - Ruta: `src/services/notification-service.ts`

### P
- **@PatientDataAggregatorService** - `import { PatientDataAggregatorService } from '@altamedica/shared/services/patient-data-aggregator.service'`
  - Agregador de datos de @pacientes
  - Ruta: `src/services/patient-data-aggregator.service.ts`

- **@PatientDataExportService** - `import { PatientDataExportService } from '@altamedica/shared/services/patient-data-export.service'`
  - @Exportaci√≥n de datos de @pacientes
  - Ruta: `src/services/patient-data-export.service.ts`

- **@PatientDataPDFService** - `import { PatientDataPDFService } from '@altamedica/shared/services/patient-data-pdf.service'`
  - Generaci√≥n de @PDFs de datos m√©dicos
  - Ruta: `src/services/patient-data-pdf.service.ts`

- **@PatientExportCollectors** - `import { * } from '@altamedica/shared/services/patient-export/collectors'`
  - Recolectores de datos para @exportaci√≥n
  - Ruta: `src/services/patient-export/collectors/`

- **@PatientExportGenerators** - `import { * } from '@altamedica/shared/services/patient-export/generators'`
  - Generadores de @archivos de @exportaci√≥n
  - Ruta: `src/services/patient-export/generators/`

- **@PaymentGatewayService** - `import { PaymentGatewayService } from '@altamedica/shared/services/payment-gateway.service'`
  - Gateway de @pagos unificado
  - Ruta: `src/services/payment-gateway.service.ts`

- **@PaymentService** - `import { PaymentService } from '@altamedica/shared/services/payment-service'`
  - Servicios de @pagos m√©dicos
  - Ruta: `src/services/payment-service.ts`

- **@PaymentUtils** - `import { PaymentUtils } from '@altamedica/shared/payments'`
  - Utilidades de @pagos
  - Ruta: `src/payments.ts`

### S
- **@SharedUtils** - `import { SharedUtils } from '@altamedica/shared/utils'`
  - Utilidades compartidas generales
  - Ruta: `src/utils.ts`

### Export por Categor√≠as

## üè• Servicios M√©dicos
```typescript
// Gesti√≥n de @pacientes
import { 
  PatientDataAggregatorService,
  PatientDataExportService,
  PatientDataPDFService 
} from '@altamedica/shared/services/...';

// @Medicamentos
import { MedicationCatalogService } from '@altamedica/shared/services/medication-catalog.service';
```

## üí≥ Servicios de Pago
```typescript
// @Pagos
import { 
  PaymentService,
  PaymentGatewayService,
  MercadoPagoService 
} from '@altamedica/shared/services/...';

// @Facturaci√≥n
import { InvoiceGenerationService } from '@altamedica/shared/services/invoice-generation.service';
```

## üîê Servicios de Seguridad
```typescript
// @Autenticaci√≥n
import { JWTService, MFAService } from '@altamedica/shared/services/...';

// @Encriptaci√≥n @HIPAA
import { EncryptionService } from '@altamedica/shared/services/encryption.service';

// @Auditor√≠a
import { AuditService } from '@altamedica/shared/services/audit.service';

// @BAA Compliance
import { BAAService } from '@altamedica/shared/services/baa.service';
```

## üíæ Servicios de Datos
```typescript
// @Respaldo
import { 
  BackupService, 
  BackupPolicies 
} from '@altamedica/shared/services/...';

// @Logging
import { LoggerService } from '@altamedica/shared';
```

## üîß Servicios de Sistema
```typescript
// Administraci√≥n
import { AdminService } from '@altamedica/shared/services/admin-service';

// @Notificaciones
import { NotificationService } from '@altamedica/shared/services/notification-service';

// @API Cliente
import { BaseAPIClient, buildQueryParams } from '@altamedica/shared';
```

## üì§ Sistema de Exportaci√≥n de Datos (@HIPAA Compliant)

### Colectores de Datos
```typescript
import {
  AppointmentsCollector,
  LabResultsCollector,
  MedicalRecordsCollector,
  VitalSignsCollector,
  BaseCollector
} from '@altamedica/shared/services/patient-export/collectors';
```

### Generadores de Archivos
```typescript
import {
  CSVGenerator,
  JSONGenerator,
  BaseGenerator
} from '@altamedica/shared/services/patient-export/generators';
```

### Estrategias de Exportaci√≥n
```typescript
import {
  CsvExportStrategy,
  JsonExportStrategy,
  PdfExportStrategy
} from '@altamedica/shared/services/patient-export/strategies';
```

### Servicios de Seguridad de Exportaci√≥n
```typescript
import {
  AccessControlService,
  AuditLoggerService,
  EncryptionService
} from '@altamedica/shared/services/patient-export/security';
```

### Gesti√≥n de Requests
```typescript
import {
  NotificationService,
  RequestLifecycleService,
  RequestManagerService
} from '@altamedica/shared/services/patient-export/request';
```

### Orquestador
```typescript
import { ExportOrchestratorService } from '@altamedica/shared/services/patient-export/orchestrator';
```

### Compatibilidad Legacy
```typescript
import { CompatibilityLayerService } from '@altamedica/shared/services/patient-export/legacy';
```

## üéØ Patrones de Import Recomendados

```typescript
// ‚úÖ Servicios principales
import { LoggerService, BaseAPIClient } from '@altamedica/shared';

// ‚úÖ Servicios espec√≠ficos
import { PatientDataExportService } from '@altamedica/shared/services/patient-data-export.service';
import { EncryptionService } from '@altamedica/shared/services/encryption.service';

// ‚úÖ Utilidades
import { buildQueryParams } from '@altamedica/shared';
import { SharedUtils } from '@altamedica/shared/utils';
```

## üèóÔ∏è Arquitectura de @Exportaci√≥n de Datos

El sistema de @exportaci√≥n sigue una arquitectura modular:

1. **@Collectors** ‚Üí Recopilan datos espec√≠ficos
2. **@Generators** ‚Üí Convierten datos a formatos
3. **@Strategies** ‚Üí Definen flujos de @exportaci√≥n  
4. **@Security** ‚Üí Garantizan compliance @HIPAA
5. **@Orchestrator** ‚Üí Coordina todo el proceso

### Flujo T√≠pico
```typescript
Request ‚Üí Security ‚Üí Collector ‚Üí Generator ‚Üí Strategy ‚Üí Export ‚Üí Audit
```

## üö® ERRORES CR√çTICOS Y SOLUCIONES

### ‚ö†Ô∏è Error TS2554: LoggerService siempre requiere data parameter
```typescript
// ‚ùå INCORRECTO - Falta el segundo par√°metro
LoggerService.info('Export completed');
LoggerService.error('Export failed');
LoggerService.warn('Low memory');

// ‚úÖ CORRECTO - Siempre pasar un objeto como segundo par√°metro
LoggerService.info('Export completed', { userId, exportId });
LoggerService.error('Export failed', { error: error.message, userId });
LoggerService.warn('Low memory', { available: memAvailable });

// üìç Archivos con este error frecuente:
// - src/services/patient-export/request/notification.service.ts (l√≠neas 82, 112, 146)
// - src/services/patient-data-aggregator.service.ts
// - src/services/baa.service.ts
```

### ‚ö†Ô∏è Error: Edge Runtime - Node APIs no permitidas
```typescript
// ‚ùå PROBLEMA: ioredis/crypto/fs en Edge Runtime
import Redis from 'ioredis';
import crypto from 'crypto';
import fs from 'fs';

// ‚úÖ SOLUCI√ìN 1: Marcar route como Server-only
export const runtime = 'nodejs'; // En app/api/route.ts

// ‚úÖ SOLUCI√ìN 2: Lazy import condicional  
if (typeof window === 'undefined') {
  const redis = await import('ioredis').then(m => m.default);
}

// ‚úÖ SOLUCI√ìN 3: Usar servicios Edge-safe
import { BaseAPIClient } from '@altamedica/shared'; // Edge-safe ‚úÖ
import { LoggerService } from '@altamedica/shared'; // Edge-safe ‚úÖ
```

### ‚ö†Ô∏è Error: Usar console en lugar de LoggerService
```typescript
// ‚ùå PROBLEMA: console.log/warn/error en producci√≥n
console.log('Debug info', data);
console.warn('Warning message');
console.error('Error occurred');

// ‚úÖ SOLUCI√ìN: SIEMPRE usar LoggerService (Edge-safe + structured)
import { LoggerService } from '@altamedica/shared';
LoggerService.info('Debug info', { data, userId });
LoggerService.warn('Warning message', { context });
LoggerService.error('Error occurred', { error: error.message });
```

### ‚ö†Ô∏è Error: Deep imports fuera de @altamedica
```typescript
// ‚ùå PROBLEMA: Deep import rompible
import { utils } from '@altamedica/shared/src/utils/internal';
import { Environment } from '@altamedica/shared/config/environment';

// ‚úÖ SOLUCI√ìN: Import desde index oficial
import { SharedUtils } from '@altamedica/shared/utils';
import { Environment } from '@altamedica/shared'; // Si est√° exportado
// O usar process.env directamente si no est√° exportado
```

### ‚ö†Ô∏è Error: Imports circulares entre servicios
```typescript
// ‚ùå PROBLEMA: ServiceA importa ServiceB que importa ServiceA
// services/a.service.ts
import { ServiceB } from './b.service';

// services/b.service.ts
import { ServiceA } from './a.service';

// ‚úÖ SOLUCI√ìN: Usar inyecci√≥n de dependencias o interfaces
// services/interfaces.ts
export interface IServiceA { /* m√©todos */ }
export interface IServiceB { /* m√©todos */ }

// services/a.service.ts
import type { IServiceB } from './interfaces';
```

## üè∑Ô∏è Matriz de Compatibilidad Runtime

| Servicio | Edge Runtime | Node.js | Cliente | Notas |
|----------|-------------|---------|---------|-------|
| **@BaseAPIClient** | ‚úÖ | ‚úÖ | ‚úÖ | Fetch-based |
| **@LoggerService** | ‚úÖ | ‚úÖ | ‚úÖ | Structured logging |
| **@buildQueryParams** | ‚úÖ | ‚úÖ | ‚úÖ | Pure JS |
| **@EncryptionService** | ‚ùå | ‚úÖ | ‚ùå | Node crypto required |
| **@BackupService** | ‚ùå | ‚úÖ | ‚ùå | File system access |
| **@PaymentService** | ‚ùå | ‚úÖ | ‚ùå | External APIs |
| **@MFAService** | ‚ùå | ‚úÖ | ‚ùå | Crypto dependencies |

## üîí Compliance @HIPAA

Todos los servicios incluyen:
- ‚úÖ @Encriptaci√≥n AES-256-GCM
- ‚úÖ @Audit logging autom√°tico
- ‚úÖ Control de @acceso granular
- ‚úÖ Sanitizaci√≥n de @datos
- ‚úÖ Retention policies