# ğŸ“¦ AltaMedica Packages - GuÃ­a de Desarrollo

## ğŸ—ï¸ Arquitectura de Packages

### ğŸ“ Estructura de Packages

#### **`packages/auth/`** - AutenticaciÃ³n Centralizada
- **PropÃ³sito**: Sistema de autenticaciÃ³n compartido
- **Funcionalidades**: JWT, roles, permisos, middleware
- **Uso**: Importado por todas las apps frontend y backend

#### **`packages/database/`** - Base de Datos Compartida
- **PropÃ³sito**: ConfiguraciÃ³n y modelos de BD
- **Funcionalidades**: Prisma schema, migrations, seeds
- **Uso**: Todas las apps que necesiten acceso a BD

#### **`packages/api-client/`** - Cliente HTTP
- **PropÃ³sito**: Cliente HTTP tipado para APIs
- **Funcionalidades**: Interceptors, error handling, tipos
- **Uso**: Apps frontend para comunicarse con backend

#### **`packages/ui/`** - Componentes de Interfaz
- **PropÃ³sito**: Componentes UI reutilizables
- **Funcionalidades**: Botones, formularios, modales, etc.
- **Uso**: Todas las apps frontend

#### **`packages/medical-components/`** - Componentes MÃ©dicos
- **PropÃ³sito**: Componentes especÃ­ficos para medicina
- **Funcionalidades**: Calendarios mÃ©dicos, formularios de salud
- **Uso**: Apps de mÃ©dicos y pacientes

## ğŸ”§ Desarrollo de Packages

### ğŸ“¦ Estructura de Package
```
packages/package-name/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts          # Export principal
â”‚   â”œâ”€â”€ components/       # Componentes del package
â”‚   â”œâ”€â”€ utils/           # Utilidades
â”‚   â””â”€â”€ types/           # Tipos TypeScript
â”œâ”€â”€ package.json          # Dependencias y scripts
â”œâ”€â”€ tsconfig.json         # ConfiguraciÃ³n TypeScript
â””â”€â”€ README.md            # DocumentaciÃ³n
```

### ğŸ”— Dependencias entre Packages
- **Evitar dependencias circulares**
- **Usar peer dependencies** para React/Next.js
- **Mantener versiones compatibles** entre packages
- **Documentar dependencias** claramente

### ğŸ“ ExportaciÃ³n de APIs
- **Exportar solo lo necesario** (no internals)
- **Usar barrel exports** en index.ts
- **Mantener compatibilidad** hacia atrÃ¡s
- **Versionar APIs** cuando sea necesario

## ğŸ§ª Testing de Packages

### ğŸ§ª Tests Unitarios
- **Vitest** como test runner
- **Cobertura mÃ­nima** del 90%
- **Mocks** para dependencias externas
- **Tests de integraciÃ³n** entre packages

### ğŸ§ª Tests de IntegraciÃ³n
- **Verificar compatibilidad** entre packages
- **Tests de build** en monorepo
- **ValidaciÃ³n de tipos** TypeScript
- **Tests de performance** para componentes crÃ­ticos

## ğŸ“š DocumentaciÃ³n

### ğŸ“– README.md
- **DescripciÃ³n clara** del propÃ³sito
- **Ejemplos de uso** con cÃ³digo
- **API reference** completa
- **Changelog** de versiones

### ğŸ“– JSDoc
- **Comentarios** para todas las funciones pÃºblicas
- **Ejemplos** de uso en comentarios
- **Tipos** documentados claramente
- **Deprecation warnings** cuando sea necesario

## ğŸš€ Build y DistribuciÃ³n

### ğŸ”¨ Build Process
- **TypeScript** compilation
- **Bundling** con tsup/esbuild
- **Tree shaking** para optimizaciÃ³n
- **Source maps** para debugging

### ğŸ“¦ PublicaciÃ³n
- **Versionado semÃ¡ntico** (semver)
- **Changelog** automÃ¡tico
- **Tests** antes de publicaciÃ³n
- **VerificaciÃ³n** de compatibilidad
description:
globs:
alwaysApply: false
---
